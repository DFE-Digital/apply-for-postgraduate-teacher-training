<section>
  <% @work_history_with_breaks.each do |entry| %>
    <% if entry.is_a?(ApplicationWorkExperience) %>

      <%= render(CandidateInterface::RestructuredWorkHistoryWorkExperienceComponent.new(work_experience: entry, editable: @editable)) %>

    <% elsif @editable && entry.is_a?(WorkHistoryWithBreaks::BreakPlaceholder) %>

      <%= render(CandidateInterface::RestructuredWorkHistoryBreakPlaceholderComponent.new(break_period: entry)) %>

    <% elsif entry.is_a?(ApplicationWorkHistoryBreak) %>

      <%= render(CandidateInterface::RestructuredWorkHistoryWorkBreakComponent.new(work_break: entry, editable: @editable)) %>

    <% end %>

    <% if @work_history_with_breaks.last != entry %>
      <hr class="govuk-section-break govuk-section-break--visible govuk-section-break--m ">
    <% end %>

  <% end %>
</section>

<% if !show_missing_banner? && @application_form.application_work_experiences.empty? && @application_form.application_work_history_breaks.empty? %>
  <%= render(SummaryCardComponent.new(rows: no_work_experience_rows, editable: @editable)) %>
<% end %>