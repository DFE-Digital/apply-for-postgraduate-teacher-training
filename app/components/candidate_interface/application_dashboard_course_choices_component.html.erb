<table class="govuk-table govuk-!-margin-top-0">
  <caption class="govuk-table__caption govuk-heading-m">Applications in progress</caption>
  <tbody class="govuk-table__body">
  <% application_choices.each do |application_choice| %>
    <tr class="govuk-table__row" data-qa="application-choice-<%= application_choice.id %>">
      <td class="govuk-table__cell">
        <span class="app-course-choice__course-name">
        <%= govuk_link_to candidate_interface_application_review_submitted_path(application_choice.application_form.id) do %>
          <%= application_choice.current_course.name%>
          <% end %>
        </span>
        <span class="app-course-choice__provider-name govuk-caption-m govuk-!-font-weight-regular">
          <%= application_choice.provider.name %>
        </span>
      </td>
      <td class="govuk-table__cell">
        <%= render CandidateInterface::ApplicationStatusTagComponent.new(application_choice: application_choice) %>
        <% if withdrawable?(application_choice)%>
          <%= render CandidateInterface::CourseChoicesSummaryCardActionComponent.new(action: :withdraw, application_choice: application_choice)%>
        <% elsif application_choice.offer? %>
          <%= render CandidateInterface::CourseChoicesSummaryCardActionComponent.new(action: :respond_to_offer, application_choice: application_choice)%>
        <% end %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>

<% if show_missing_banner? %>
  <%= render(CandidateInterface::IncompleteSectionComponent.new(section: :course_choices, section_path: candidate_interface_course_choices_index_path, error: @missing_error)) %>
<% end %>
