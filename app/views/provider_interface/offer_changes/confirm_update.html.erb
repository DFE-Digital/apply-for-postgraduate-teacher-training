<% content_for :before_content, govuk_back_link_to(request.referer) %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h1 class="govuk-heading-xl">
      <span class="govuk-caption-xl"><%= @application_choice.application_form.full_name %></span>
      Check and confirm changes to offer
    </h1>
    <%= render ProviderInterface::OfferSummaryListComponent.new(application_choice: @application_choice, header: 'Your existing offer') %>
    <%= render ProviderInterface::OfferSummaryListComponent.new(application_choice: @future_application_choice, header: 'Your new offer', options: @change_path_options) %>

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">
        <%= form_with model: @change_offer_form,
              url: provider_interface_application_choice_change_offer_path(@application_choice.id),
              method: :patch do |f| %>

          <%= f.hidden_field :provider_id %>
          <%= f.hidden_field :course_id %>
          <%= f.hidden_field :course_option_id %>
          <%= f.govuk_submit 'Change offer' %>
        <% end %>

        <p class="govuk-body">
          <%= govuk_link_to 'Cancel', provider_interface_application_choice_path(@application_choice.id), class: 'govuk-link--no-visited-state' %>
        </p>
      </div>
    </div>
  </div>
</div>
