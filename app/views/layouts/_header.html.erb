<% case try(:current_namespace) %>
<% when 'candidate_interface' %>
  <%= render(HeaderComponent.new(classes: "app-header--#{HostingEnvironment.environment_name}",
                                 service_name: service_name,
                                 service_url: service_link,
                                 navigation_items: NavigationItems.for_candidate_interface(try(:current_candidate), controller))) %>
                               <%= render PhaseBanner.new %>
<% when 'support_interface' %>
  <%= render(ProductHeaderComponent.new(classes: "app-header--#{HostingEnvironment.environment_name} app-header--full-border",
                                 product_name: service_name,
                                 service_url: service_link,
                                 phase_tag: true,
                                 navigation_items: NavigationItems.for_support_account_nav(try(:current_support_user)))) %>
                               <%= render(PrimaryNavigationComponent.new(
                                 navigation_items: NavigationItems.for_support_primary_nav(try(:current_support_user), controller))) %>
  <%= yield(:navigation) if content_for?(:navigation) %>
<% when 'provider_interface' %>
  <%= render(ProductHeaderComponent.new(classes: "app-header--#{HostingEnvironment.environment_name} app-header--full-border",
                                 product_name: service_name,
                                 service_url: service_link,
                                 navigation_items: NavigationItems.for_provider_account_nav(try(:current_provider_user), controller, @provider_setup&.pending?))) %>

                               <% if controller.controller_name == 'start_page' %>
                                 <%= render PhaseBanner.new(no_border: true, feedback_link: ProviderInterface::FEEDBACK_LINK) %>
                               <% elsif controller.controller_name.in? %w[sessions content provider_agreements] %>
                                 <%= render PhaseBanner.new(feedback_link: ProviderInterface::FEEDBACK_LINK) %>
                               <% else %>
                                 <%= render PhaseBanner.new(no_border: true, feedback_link: ProviderInterface::FEEDBACK_LINK) %>
                                 <%= render(PrimaryNavigationComponent.new(
                                   navigation_items: NavigationItems.for_provider_primary_nav(try(:current_provider_user), controller, @provider_setup&.pending?))) %>
                               <% end %>
<% when 'api_docs' %>
  <%= render(HeaderComponent.new(classes: "app-header--#{HostingEnvironment.environment_name}",
                                 service_name: service_name,
                                 service_url: service_link,
                                 navigation_items: NavigationItems.for_api_docs(controller))) %>
                               <%= render PhaseBanner.new %>
<% else %>
  <% components_url = '/rails/view_components' if request.path.match(/^\/rails\/view_components/) %>
  <% components_name = 'ViewComponent Previews' if request.path.match(/^\/rails\/view_components/) %>
  <%= render(HeaderComponent.new(classes: "app-header--#{HostingEnvironment.environment_name}",
                                 service_name: components_name || try(:service_name),
                                 service_url: components_url || try(:service_link),
                                 navigation_items: [])) %>
                               <%= render PhaseBanner.new %>
<% end %>
