<% content_for :title, page_title('add_job') %>
<% content_for :before_content, govuk_back_link_to(candidate_interface_application_form_path, 'Back to application') %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <%= form_with model: @work_experience_form, url: candidate_interface_work_history_create_path, builder: GOVUKDesignSystemFormBuilder::FormBuilder do |f| %>
      <fieldset class="govuk-fieldset">
        <%= f.govuk_error_summary %>

        <legend class="govuk-fieldset__legend govuk-fieldset__legend--xl govuk-!-margin-bottom-8">
          <h1 class="govuk-fieldset__heading">
            <span class="govuk-caption-xl"><%= t('page_titles.work_history') %></span>
            <%= t('page_titles.add_job') %>
          </h1>
        </legend>

        <p class="govuk-body">
          Please include all your paid work in school (for example as a teaching
          assistant) in this section.
        </p>

        <p class="govuk-body">
          Don’t include voluntary or unpaid experience – we’ll ask you about this in
          ‘Volunteering with children and young people’.
        </p>

        <%= f.govuk_text_field :role, label: { text: t('application_form.work_history.role.label'), size: 'm' } %>

        <%= f.govuk_text_field :organisation, label: { text: t('application_form.work_history.organisation.label'), size: 'm' } %>

        <%= f.govuk_radio_buttons_fieldset :commitment, legend: { text: 'Was this job full-time or part-time?', tag: 'span' } do %>
          <%= f.govuk_radio_button :commitment, 'full_time', label: { text: 'Full-time' } %>

          <%= f.govuk_radio_button :commitment, 'part_time', label: { text: 'Part-time' } %>
        <% end %>

        <div class="govuk-form-group" data-qa="start-date">
          <fieldset class="govuk-fieldset" role="group" aria-describedby="start-date-hint">
            <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
              Start date
            </legend>

            <span id="start-date-hint" class="govuk-hint">
              For example, 5 2018
            </span>

            <div class="govuk-date-input">
              <div class="govuk-date-input__item">
                <div class="govuk-form-group">
                  <%= f.label :start_date_month, 'Month', class: 'govuk-label govuk-date-input__label' %>
                  <%= f.text_field :start_date_month, type: 'number', pattern: '[0-9]*', class: 'govuk-input govuk-date-input__input govuk-input--width-2' %>
                </div>
              </div>

              <div class="govuk-date-input__item">
                <div class="govuk-form-group">
                  <%= f.label :start_date_year, 'Year', class: 'govuk-label govuk-date-input__label' %>
                  <%= f.text_field :start_date_year, type: 'number', pattern: '[0-9]*', class: 'govuk-input govuk-date-input__input govuk-input--width-4' %>
                </div>
              </div>
            </div>
          </fieldset>
        </div>

        <div class="govuk-form-group" data-qa="end-date">
          <fieldset class="govuk-fieldset" role="group" aria-describedby="end-date-hint">
            <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
              End date (leave blank if this is your current role)
            </legend>

            <span id="end-date-hint" class="govuk-hint">
              For example, 5 2019
            </span>

            <div class="govuk-date-input">
              <div class="govuk-date-input__item">
                <div class="govuk-form-group">
                  <%= f.label :end_date_month, 'Month', class: 'govuk-label govuk-date-input__label' %>
                  <%= f.text_field :end_date_month, type: 'number', pattern: '[0-9]*', class: 'govuk-input govuk-date-input__input govuk-input--width-2' %>
                </div>
              </div>

              <div class="govuk-date-input__item">
                <div class="govuk-form-group">
                  <%= f.label :end_date_year, 'Year', class: 'govuk-label govuk-date-input__label' %>
                  <%= f.text_field :end_date_year, type: 'number', pattern: '[0-9]*', class: 'govuk-input govuk-date-input__input govuk-input--width-4' %>
                </div>
              </div>
            </div>
          </fieldset>
        </div>

        <%= f.govuk_text_area :details, label: { text: t('application_form.work_history.details.label'), size: 'm' }, hint_text: 'Give a brief overview of your role and explain how you developed transferable skills like communication, creativity and organisation', max_words: 150 %>

        <%= f.govuk_radio_buttons_fieldset :working_with_children, legend: { text: 'Did this job involve working in a school or with children?', tag: 'span' }, inline: true do %>
          <%= f.govuk_radio_button :working_with_children, true, label: { text: 'Yes' } %>
          <%= f.govuk_radio_button :working_with_children, false, label: { text: 'No' } %>
        <% end %>

        <%= f.govuk_submit t('application_form.work_history.complete_form_button') %>
      </fieldset>
    <% end %>
  </div>
</div>
